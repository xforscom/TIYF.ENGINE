{
  "schemaVersion": "1.3.0",
  "configId": "demo-ctrader-v1",
  "run": {
    "runId": "RUN-DEMO-CTRADER"
  },
  "adapter": {
    "type": "ctrader-demo",
    "settings": {
      "baseUrl": "https://api.spotware.com/openapi/ct-demo",
      "tokenUrl": "https://api.spotware.com/openapi/token",
      "applicationId": "env:CT_APP_ID",
      "clientSecret": "env:CT_APP_SECRET",
      "accessToken": "env:CT_DEMO_OAUTH_TOKEN",
      "refreshToken": "env:CT_DEMO_REFRESH_TOKEN",
      "accountId": "env:CT_DEMO_ACCOUNT_ID",
      "broker": "env:CT_DEMO_BROKER",
      "maxOrderUnits": 100000,
      "requestTimeoutSeconds": 10,
      "retryInitialDelaySeconds": 1,
      "retryMaxDelaySeconds": 10,
      "retryMaxAttempts": 5,
      "handshakeEndpoint": "/connectivity",
      "orderEndpoint": "/orders",
      "useMock": false
    }
  },
  "universe": [
    "EURUSD",
    "GBPUSD",
    "USDJPY",
    "USDCHF",
    "USDCAD",
    "AUDUSD",
    "NZDUSD",
    "XAUUSD"
  ],
  "risk": {
    "perTradeRiskPct": 0.05,
    "realLeverageCap": 2.0,
    "global_volatility_gate": {
      "enabled_mode": "live",
      "entry_threshold": 0.0,
      "ewma_alpha": 0.3,
      "live_max_bucket": "moderate",
      "components": [
        { "name": "fx_atr_percentile", "weight": 0.6 },
        { "name": "risk_proxy_z", "weight": 0.4 }
      ]
    },
    "promotion": {
      "enabled": true,
      "shadow_candidates": ["strategyA", "strategyB"],
      "probation_days": 30,
      "min_trades": 50,
      "promotion_threshold": 0.6,
      "demotion_threshold": 0.4
    },
    "risk_rails_mode": "live",
    "broker_daily_loss_cap_ccy": 1000,
    "max_position_units": 500000,
    "symbol_unit_caps": {
      "EURUSD": 200000,
      "GBPUSD": 200000
    },
    "cooldown": {
      "enabled": true,
      "consecutive_losses": 2,
      "minutes": 30
    }
  }
}
